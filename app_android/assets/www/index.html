<!DOCTYPE html>
<html>
    <head>
        <title></title>
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
            
        <link rel="stylesheet" href="style/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="style/style.css" type="text/css" />	   

		<link rel="stylesheet" href="style/font-awesome.min.css">
        <!-- iPad/iPhone specific css below, add after your main css >
         <link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />		
         <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />		
         -->
        <!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->
        <script type="text/javascript" charset="utf-8" src="js/jquery-1.8.2.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/jquery.mobile-1.2.0.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/jqm.page.params.js"></script>
        <script type="text/javascript" charset="utf-8" src="cordova-2.3.0.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/iscroll.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/socket.io.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/chat.js"></script>
        <script type="text/javascript" src="js/plugins/twitterwidget.js"></script>
        <!-- preloaded data -->
        <script type="text/javascript" charset="utf-8" src="agenda.json"></script>
        <script type="text/javascript" charset="utf-8" src="profiles.json"></script>
        <script type="text/javascript" charset="utf-8" src="sponsors.json"></script>
        <script type="text/javascript" charset="utf-8" src="locations.json"></script>
        <script type="text/javascript" charset="utf-8" src="venue.json"></script>
        
        <script type="text/javascript">
            var appToken = '--ADD HERE--';
            var tokenIssuer = '--ADD HERE--';
            //var tokenIssuer = 'http://localhost/token/';
            //var wso2conAPI = "http://localhost/api/";
            var wso2conAPI = "--ADD HERE--";
            var apiKey = "?api_key=special-key";
            var baseversion = {
                latest: "1.1.0",
                minimum: "1.1.0",
                agenda: "1.1.1",
                profiles: "1.1.0",
                sponsors: "1.1.0",
                venue: "1.1.0"
            };

            var testmode = false;
            var agenda, profiles, version, sponsors, schedule, messages, venue, myagenda;
            var user, userCache = [];
            var myScroll;
            
            // phoneGap ready event
            document.addEventListener("deviceready", init, true);
            document.addEventListener("resume", resume, true);
            // web ready event
            $(document).ready(init);
            
            // application initialization
            function init() {
                if (testmode) {
                    console.log("init");
                }
                // Load up base agenda into local storage; supports offline access to the agenda while
                // enabling live agenda revisions.
                agenda = JSON.parse(window.localStorage.getItem("agenda"));
                version = JSON.parse(window.localStorage.getItem("version"));
                profiles = JSON.parse(window.localStorage.getItem("profiles"));
                sponsors = JSON.parse(window.localStorage.getItem("sponsors"));
                schedule = JSON.parse(window.localStorage.getItem("schedule"));
				venue = JSON.parse(window.localStorage.getItem("venue"));
				myagenda = JSON.parse(window.localStorage.getItem("myagenda"));
                //for testing only
                dummyMessages = [{"to_user" : {"regcode" : "", "bio" : "", "organisation" : "Wso2", "title" : "ATL", "home" : "Colombo, Western, Sri Lanka", "email" : "nuwan@wso2.com", "lastname" : "Bandara", "firstname" : "Nuwan", "expertise" : "", "id" : "FbagaMAB", "accepting" : 0, "interests" : ""}, "id" : 4, "from_user" : {"regcode" : "", "bio" : "", "organisation" : "Wso2", "title" : "ATL", "home" : "Colombo, Western, Sri Lanka", "email" : "nuwan@wso2.com", "lastname" : "Bandara", "firstname" : "Nuwan", "expertise" : "", "id" : "FbagaMAB", "accepting" : 0, "interests" : ""}, "timestamp" : "Sat Feb 02 2013 11:08:32 GMT+0530 (IST)", "message" : "test wow", "status" : "new"}, {"to_user" : {"regcode" : "", "bio" : "", "organisation" : "Wso2", "title" : "ATL", "home" : "Colombo, Western, Sri Lanka", "email" : "nuwan@wso2.com", "lastname" : "Bandara", "firstname" : "Nuwan", "expertise" : "", "id" : "FbagaMAB", "accepting" : 0, "interests" : ""}, "id" : 5, "from_user" : {"regcode" : "", "bio" : "", "organisation" : "Wso2", "title" : "ATL", "home" : "Colombo, Western, Sri Lanka", "email" : "nuwan@wso2.com", "lastname" : "Bandara", "firstname" : "Nuwan", "expertise" : "", "id" : "FbagaMAB", "accepting" : 0, "interests" : ""}, "timestamp" : "Sat Feb 02 2013 14:08:09 GMT+0530 (IST)", "message" : "i need to meet yo", "status" : "new"}, {"to_user" : {"regcode" : "", "bio" : "", "organisation" : "Wso2", "title" : "ATL", "home" : "Colombo, Western, Sri Lanka", "email" : "nuwan@wso2.com", "lastname" : "Bandara", "firstname" : "Nuwan", "expertise" : "", "id" : "FbagaMAB", "accepting" : 0, "interests" : ""}, "id" : 6, "from_user" : {"regcode" : "WCWS00", "bio" : "null", "organisation" : "WSO2", "title" : "VP Business Development", "home" : "Auburn, CA, United States", "email" : "jonathan@wso2.com", "lastname" : "Marsh", "firstname" : "Jonathan", "expertise" : "null", "id" : "1HYF0MAO", "accepting" : 0, "interests" : "null"}, "timestamp" : "Sat Feb 02 2013 14:08:09 GMT+0530 (IST)", "message" : "i need to meet yo", "status" : "new"}];


                if (agenda == null) {
                    agenda = baseagenda;
                    profiles = baseprofiles;
                    version = baseversion;
                    sponsors = basesponsors;
                    schedule = new Array();
                    venue = basevenueinfo;

                    decorateAgenda(profiles.profiles);
                    // cache data for offline use
                    window.localStorage.setItem("agenda", JSON.stringify(agenda));
                    window.localStorage.setItem("version", JSON.stringify(version));
                    window.localStorage.setItem("profiles", JSON.stringify(profiles));
                    window.localStorage.setItem("sponsors", JSON.stringify(sponsors));
                    window.localStorage.setItem("schedule", JSON.stringify(schedule));
                    window.localStorage.setItem("venue", JSON.stringify(venue));
                    window.localStorage.setItem("myagenda", JSON.stringify(myagenda));
                }
                checkUpdate();
                resume();
            }
            
            function resume() {
                if (testmode) {
                    console.log("resuming");
                }
                resumepage(); // When the resuming, wait till the page is active, then update it with the latest info.
            }
            function resumepage() {
                if ($.mobile.activePage != null) {
                    $.mobile.activePage.trigger("pagebeforeshow");
                    $.mobile.activePage.trigger("pageshow");
                } else {
                    window.setTimeout(resumepage, 250);
                }
            }

            // decorate the agenda with speaker information
            function decorateAgenda(profiles) {
                for (var i=0; i<agenda.sessions.length; i++) {
                    agenda.sessions[i].speakerprofile = new Array();
                    for (var s in agenda.sessions[i].speaker) {
                        var speaker = agenda.sessions[i].speaker[s];
                        if (speaker != "") {
                            for (var j=0; j<profiles.length; j++) {
                                if (profiles[j].id == speaker) {
                                    agenda.sessions[i].speakerprofile.push(profiles[j]);
                                    break;
                                }
                            }
                        }
                    }
                }
            }
            
            function checkVersion(property, remoteVersion) {
                var srcComponents = version[property].split(".");
                srcComponents[0] = parseInt(srcComponents[0]);
                srcComponents[1] = parseInt(srcComponents[1]);
                srcComponents[2] = parseInt(srcComponents[2]);
                var dstComponents = remoteVersion[property].split(".");
                dstComponents[0] = parseInt(dstComponents[0]);
                dstComponents[1] = parseInt(dstComponents[1]);
                dstComponents[2] = parseInt(dstComponents[2]);

                if (srcComponents[0] < dstComponents[0]) {
                    return "<";
                } else if (srcComponents[0] > dstComponents[0]) {
                    return ">";
                } else { // must be equal
                    if (srcComponents[1] < dstComponents[1]) {
                        return "<";
                    } else if (srcComponents[1] > dstComponents[1]) {
                        return ">";
                    } else { // msust be equal
                        if (srcComponents[2] < dstComponents[2]) {
                            return "<";
                        } else if (srcComponents[2] > dstComponents[2]) {
                            return ">";
                        } else {
                            return "=";
                        }
                    }
                }
            }


            function checkUpdate() {
                if (testmode) {
                    console.log("commence version check");
                }
                $.ajax({
                    type : "GET",
                    url : wso2conAPI + "versions" + apiKey,
                    headers: {'Authorization': 'Bearer ' + appToken},
                    dataType : "json",
                    cache: false,
                    success : function(data) {
                        var remoteVersion = data;
                        
                        if (checkVersion("minimum", remoteVersion) == "<") {
                           /* user = "prevent logon - upgrade required!";
                            $.mobile.changePage($("#upgrade"));
                            return;   */
                            $("#versionAvailable").show();
                        }
                       
                        if (checkVersion("latest", remoteVersion) == "<") {
                            $("#versionAvailable").show();
                        } else {
                            $("#versionAvailable").hide();
                        }
                       
                        if (checkVersion("agenda", remoteVersion) == "<") {
                            if (testmode) {
                                console.log("updating agenda");
                            }
                            $.ajax({
                                type : "GET",
                                url : wso2conAPI + "agenda" + apiKey,
                                headers: {'Authorization': 'Bearer ' + window.localStorage.getItem("access_token")},
                                dataType : "json",
                                cache: false,
                                success : function(data) {
                                    if (testmode) {
                                        console.log("agenda update received");
                                    }
                                    agenda = data;
                                    decorateAgenda(profiles.profiles);
                                    version.agenda = remoteVersion.agenda;
                                    // cache data for offline use
                                    window.localStorage.setItem("agenda", JSON.stringify(agenda));
                                    window.localStorage.setItem("version", JSON.stringify(version));
                                    if (testmode) {
                                        console.log("agenda update completed");
                                    }
                                },
                                error : function(data) {
                                    if (testmode) {
                                        console.log("agenda update failure");
                                    }
                                }
                            });
                        }
                       
                        if (checkVersion("profiles", remoteVersion) == "<") {
                            if (testmode) {
                                console.log("updating profiles");
                            }
                            
                            $.ajax({
                                type : "GET",
                                url : wso2conAPI + "search/",
                                headers: {'Authorization': 'Bearer ' + window.localStorage.getItem("access_token")},
                                data : {
                                    name : "*",
                                    expertise : "*",
                                    home : "*",
                                    organisation : "*",
                                    interests : "*",
                                    regcode : "WCGS00"
                                },
                                dataType : "json",
                                success : function(data) {
                                    if (testmode) {
                                        console.log("profiles update received");
                                    }
                                    profiles = {
                                        profiles: data.users
                                    };
                                    decorateAgenda(profiles.profiles);
                                    version.profiles = remoteVersion.profiles;
                                    // cache data for offline use
                                    window.localStorage.setItem("profiles", JSON.stringify(profiles));
                                    window.localStorage.setItem("agenda", JSON.stringify(agenda));
                                    window.localStorage.setItem("version", JSON.stringify(version));
                                    if (testmode) {
                                        console.log("profiles update completed");
                                    }
                                },
                                error : function(data) {
                                    if (testmode) {
                                        console.log("profiles update failure");
                                    }
                                }
                            });

                        }
                       
                        if (checkVersion("sponsors", remoteVersion) == "<") {
                            if (testmode) {
                                console.log("updating sponsors");
                            }
                            $.ajax({
                                type : "GET",
                                url : wso2conAPI + "sponsors" + apiKey,
                                headers: {'Authorization': 'Bearer ' + window.localStorage.getItem("access_token")},
                                dataType : "json",
                                cache: false,
                                success : function(data) {
                                    if (testmode) {
                                        console.log("sponsors update received");
                                    }
                                    sponsors = data;
                                    version.sponsors = remoteVersion.sponsors;
                                    // cache data for offline use
                                    window.localStorage.setItem("sponsors", JSON.stringify(sponsors));
                                    window.localStorage.setItem("version", JSON.stringify(version));
                                    if (testmode) {
                                        console.log("sponsors update completed");
                                    }
                                },
                                error : function(data) {
                                    if (testmode) {
                                        console.log("sponsors update failure");
                                    }
                                }
                            });
                        }
                        
                        syncSchedule();

                        // perform this check periodically
                        window.setTimeout(checkUpdate, 1*60*60*1000);
                    },
                    error : function(data) {
                        if (testmode) {
                            console.log("version check failed");
                        }
                        // perform this check periodically
                        window.setTimeout(checkUpdate, 5*60*1000);
                    }
                });                  
                
            }
                
         
            function syncSchedule() {
                if (testmode) {
                    console.log("updating schedule");
                }
                if (user != null) {
                    $.ajax({
                        type : "GET",
                        url : wso2conAPI + user.id + "/schedule" + apiKey,
                        headers: {'Authorization': 'Bearer ' + window.localStorage.getItem("access_token")},
                        dataType : "json",
                        success : function(data) {
                            if (testmode) {
                                console.log("schedule update received");
                            }
                            schedule = data.sessions;
                            // cache data for offline use
                            window.localStorage.setItem("schedule", JSON.stringify(schedule));
                            if (testmode) {
                                console.log("schedule update completed");
                            }
                        },
                        error : function(data) {
                            if (testmode) {
                                console.log("schedule update failure");
                            }
                        }
                    });
                }
            }

            // Rotate ads: Home page gets only level 1 (gold) ads, other pages get levels 1 or 2 (gold or silver)
            $('#home').live('pagebeforeshow', function(event){
                showAd(1);
            });
            $('#agenda, #search, #map, #session, #profile, #request, #messages, #twitter, #chat, #speakers, #venue, #venueinfo, #myagenda').live('pagebeforeshow', function(event){
                showAd(2);
            });
            $('.ad').live("click", function(event) {
                window.location = $(this).attr("href");
            });
           
            // parameter passing: see http://stackoverflow.com/questions/8238762/passing-parameters-to-a-page-id-in-jquery-mobile/8295488#8295488
            $(document).bind("pagebeforechange", function( event, data ) {
                $.mobile.pageData = (data && data.options && data.options.pageData)
                    ? data.options.pageData
                    : null;
            });
                            
        </script>
        
        <!-- page behaviors -->
        <script type="text/javascript" charset="utf-8" src="js/agendapage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/searchpage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/messagespage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/homepage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/loginpage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/mappage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/profilepage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/sessionpage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/settingspage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/sponsorpage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/sponsorspage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/twitterpage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/speakerspage.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/venuepage.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/venueinfopage.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/myagendapage.js"></script>

    </head>
    <body>
  
        <!-- Start of home page -->
        <div data-role="page" id="home">
            
            <div data-role="header" data-position="fixed">
                <h1><img src="style/images/header-logo.png"></h1>
                <a href="#settings" id="pop-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop" class="ui-btn-right">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <!-- Now playing, whatâ€™s next, pending meeting requests -->
                <ul data-role="listview">
                    <li id="upcoming" style="display:none" data-theme="e" >
                        <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                           <h3><span id="nowPlayingTitle">Now playing</span></h3>
                           <p id="nowPlayingDetails"></p>
                        </div>
                        <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" id="upNextAll">
                           <h3><span id="upNextTitle">Up next</span></h3>
                           <p id="upNextDetails"></p>
                        </div>
                    </li>
                    <li id="countdown" style="display:none" data-theme="e" ></li>
                    <li><a href="#agenda" data-transition="fade"><i class="icon-calendar"></i> Agenda</a></li>
                    <li><a href="#speakers" data-transition="fade"><i class="icon-bullhorn"></i> Speakers</a></li>
                    <li><a href="#venue" data-transition="fade"><i class="icon-hand-right"></i> Venue</a></li>
                    <!-- <li id="notifications" style="display:none">
                        <a href="#messages" data-transition="fade"><i class="icon-comment"></i> Meeting request messages <span class="ui-li-count">0</span></a>
                    </li> -->
                    <!--<li><a href="#search"><i class="icon-coffee"></i> Request a meeting</a></li> -->
                    <!--<li><a href="#map" data-transition="fade"><i class="icon-map-marker"></i> Venue map</a></li>-->
                    <!-- <li><a id="chat-link" href="#chat" data-transition="fade"><i class="icon-comments"></i> Chat</a></li>-->
                    <li><a href="#sponsors" data-transition="fade"><i class="icon-certificate"></i> Sponsors</a></li>
                    <li><a href="#twitter" data-transition="fade"><i class="icon-twitter"></i> Twitter</a></li>
                    <li id="versionAvailable" style="display:none" data-theme="e">
                        Note: A newer version of this app is available - Clear browser cache and re-login or if you are using the mobile app, please do upgrade !!
                    </li>
                </ul>
                <div style="margin-top: 20px; border:3px dashed blue; padding:.5em; display:none" id="timetest">
                    Test: hour offset from conf start: <input type="text" id="testdateoffset" value="0"/>
                </div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->      
        
        
        
        <!-- Start of agenda page -->
        <div data-role="page" id="agenda">
            
            <div data-role="header" data-position="fixed">
                <h1>Agenda</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="agenda-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
                
                <div data-role="navbar" id="mk_item_actions">
				<ul>
				    <li><a id="agendatab1" class="ui-btn-active" href="#agenda">Full Agenda</a></li>
				    <li><a id="myagendatab1" href="#myagenda">My Agenda</a></li>
				</ul>
				
				     </div>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div id="agendadetails">
                <div data-role='popup' id='addmyagenda' data-theme='a' data-overlay-theme='b' class='ui-content' style='max-width:340px; padding-bottom:2em;'><h3>Add to your Agenda?</h3><p>This event will be added to your prsonalized agenda</p><a href='#agenda' data-role='button' onclick='savemyagenda(); return false' data-rel='back' data-theme='a' data-inline='true' data-mini='true'>&nbsp;&nbsp;Add&nbsp&nbsp;</a><a href='#agenda' data-role='button' data-rel='back' data-theme='a' data-inline='true' data-mini='true'>Cancel</a></div>
                </div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        
         <!-- Start of agenda page -->
        <div data-role="page" id="myagenda">
            
            <div data-role="header" data-position="fixed">
                <h1>My Agenda</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="myagenda-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
                
                <div data-role="navbar" id="mk_item_actions">
				<ul>
				    <li><a id="agendatab2" href="#agenda">Full Agenda</a></li>
				    <li><a id="myagendatab2" class="ui-btn-active" href="#myagenda">My Agenda</a></li>
				</ul>
				
				     </div>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div id="myagendadetails">
                <div data-role='popup' id='removemyagenda' data-theme='a' data-overlay-theme='b' class='ui-content' style='max-width:340px; padding-bottom:2em;'><h3>Remove from your Agenda?</h3><p>This event will be removed from your prsonalized agenda</p><a href='#myagenda' data-role='button' onclick='removemyagenda(); return false' data-rel='back' data-theme='a' data-inline='true' data-mini='true'>Remove</a><a href='#agenda' data-role='button' data-rel='back' data-theme='a' data-inline='true' data-mini='true'>Cancel</a></div>
                </div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->

		 <!-- Start of speakers page -->
        <div data-role="page" id="speakers">
            
            <div data-role="header" data-position="fixed">
                <h1>Speakers</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="speakers-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div id="speakerdetails"></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        
         <!-- Start of help page -->
        <div data-role="page" id="venue">
            
            <div data-role="header" data-position="fixed">
                <h1>Venue</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="venue-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div id="venuedetails"></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        
         <!-- Start of help page -->
        <div data-role="page" id="venueinfo">
            
            <div data-role="header" data-position="fixed">
                <h1>Venue</h1>
                <a data-rel="back" data-icon="back" data-iconpos="notext" data-direction="reverse">Back</a>
                <a href="#settings" id="venueinfo-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div id="venueinfodetails"></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        
        <div data-role="page" id="session">
            
            <div data-role="header" data-position="fixed">
                <h1 style="text-transform:capitalize">Session Details</h1>
                <a data-rel="back" data-icon="back" data-iconpos="notext" data-direction="reverse">Back</a>
                <a href="#settings" id="session-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <h2>session.title</h2>
                <div class="speakers">session.speakerprofile[]</div>
               
                <div id="room"></div>
                <hr />
                
                <div id="avg-rating">
                    <table width="100%">
                        <tr>
                            <td align="center">
                                <div id="content-rating"> </div><br /><span>Content Rating</span>
                            </td>
                            
                            <td align="center">
                                <div id="speaker-rating"> </div><br /><span>Speaker Rating</span>
                            </td>
                        </tr>
                    </table>        
                </div>
                
                <hr /></br>
                <div style="display:none" id="poplogin-session"><a href="#login" data-rel="popup" data-position-to="window" data-role="button" data-inline="true" data-transition="pop">Sign in to RSVP/Feedback</a></div> 
                <div id='rate-rsvp'>
                <div id='attending-on'><a class="favorite" data='session.id' data-role='button' data-icon='star' data-mini='true' data-theme='d'>RSVP/Feedback</a></div>
                
                <form id="attending-off" autocomplete="off">
                    <a class="favorite" data='session.id' data-role='button' data-icon='star' data-mini='true' data-theme='b'>Cancel RSVP</a>
                    
                    <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                        <h3>Instant feedback</h3>
                        <table>
                            <tr>
                                <td>Content:</td>
                                <td>
                                    <div data-role="controlgroup" data-type="horizontal">
                                        <a class="contentrating" data-role="button" data-mini="true">1</a>
                                        <a class="contentrating" data-role="button" data-mini="true">2</a>
                                        <a class="contentrating" data-role="button" data-mini="true">3</a>
                                        <a class="contentrating" data-role="button" data-mini="true">4</a>
                                        <a class="contentrating" data-role="button" data-mini="true">5</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Speaker:</td>
                                <td>
                                   <div data-role="controlgroup"data-type="horizontal">
                                        <a class="speakerrating" data-role="button" data-mini="true">1</a>
                                        <a class="speakerrating" data-role="button" data-mini="true">2</a>
                                        <a class="speakerrating" data-role="button" data-mini="true">3</a>
                                        <a class="speakerrating" data-role="button" data-mini="true">4</a>
                                        <a class="speakerrating" data-role="button" data-mini="true">5</a>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <div><textarea id="sessionfeedback" autocomplete="off"></textarea></div>
                    </div>
                    <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                       <h3>My personal notes</h3>
                       <textarea id="sessionnotes" autocomplete="off"></textarea>
                       <p class="note">These notes will be sent to your email address at EOD.</p>
                    </div>
                </form></div></br>
                <div id="abstract">session.abstract</div>
                <div data-role="popup" class="popup" id="popup_schedule_update_failed">
                    <a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-left">Close</a>
                    <p>Server update failed!<br/>Changes will only be available locally.</p>
                </div>

            </div><!-- /content -->
		            <!-- Start of login dialog -->
					    <div data-role="popup" id="login" data-theme="a" class="ui-corner-all">
					    <a href="#" id="login-close" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
					        <div data-role="content">
					            <div class="login-cont">
					
					                <label for="un" class="ui-hidden-accessible">Username:</label>
					                <input type="text" name="user" id="un" value="" placeholder="username" data-theme="a" />
					
					                <label for="pw" class="ui-hidden-accessible">Password:</label>
					                <input type="password" name="pass" id="pw" value="" placeholder="password" data-theme="a" />
					
					                <input type="hidden" name="nav" id="nav" value=""/>
					                <button type="submit" data-theme="b">Sign in</button>
					
					                <div id="login_error"></div>
					            </div>
					
					            <p>Please sign in using your <strong>wso2.org</strong> account.</p> <hr><p>Need a password or password reminder?  Get one at <a href="https://wso2.org/user/register">wso2.org</a>.</p>
					     </div><!-- /content -->
			    </div><!-- /page -->
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        
        
        <!-- Start of one-on-one page -->
        <div data-role="page" id="search">
            
            <div data-role="header" data-position="fixed">
                <h1>Request Meeting</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="search-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
                <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" id="searchterms">
                    <h3>Search for connections</h3>
                    <div data-role="fieldcontain">
                        <label for="searchname" data-mini="true">Name:</label>
                        <input type="text" name="searchname" id="searchname" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain">
                        <label for="searchexpertise" data-mini="true">Expertise:</label>
                        <input type="text" name="searchexpertise" id="searchexpertise" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain" data-mini="true">
                        <label for="searchhome">Home:</label>
                        <input type="text" name="searchhome" id="searchhome" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain" data-mini="true">
                        <label for="searchorg">Organisation:</label>
                        <input type="text" name="searchorg" id="searchorg" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain" data-mini="true">
                        <label for="searchinterests">Interests:</label>
                        <input type="text" name="searchinterests" id="searchinterests" data-mini="true" />
                    </div>
                    <a id="searchsubmit" data-role="button" data-icon="search" data-mini="true">Search</a>
                </div>
                <div id="searchresults" style="margin-top:2em;"></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
           </div><!-- /footer -->
        </div><!-- /page -->


        <div data-role="page" id="profile">
            
            <div data-role="header" data-position="fixed">
                <h1>User Name</h1>
                <a data-rel="back" data-icon="back" data-iconpos="notext" data-direction="reverse">Back</a>
                <a href="#settings" id="profile-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">
                <div id="bio"></div>
                <p id="expertise"></p>
                <p id="location"></p>
                <p id="interests"></p>
                <div style="display:none" id="poplogin-speakers"><a href="#login" data-rel="popup" data-position-to="window" data-role="button" data-inline="true" data-transition="pop">Sign in to Request a Meeting</a></div> 
                <div data-role="collapsible" data-mini="true" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" id="accept">
                   <h3>Request meeting</h3>
                    <div data-role="fieldcontain">
                        <label for="requestmessage" data-mini="true">Invitation Message:</label>
                        <textarea name="requestmessage" id="requestmessage" data-mini="true" ></textarea>
                    </div>
                    <a id="requestsubmit" data-role="button" data-icon="forward" data-mini="true">Send Invitation</a>
                </div>
                <p id="reject" class="note"></p>
            </div><!-- /content -->
             <!-- Start of login dialog -->
			    <div data-role="popup" id="login" data-theme="a" class="ui-corner-all">
			    <a href="#" id="login-close" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
			        <div data-role="content">
			            <div class="login-cont">
			
			                <label for="un" class="ui-hidden-accessible">Username:</label>
			                <input type="text" name="user" id="un" value="" placeholder="username" data-theme="a" />
			
			                <label for="pw" class="ui-hidden-accessible">Password:</label>
			                <input type="password" name="pass" id="pw" value="" placeholder="password" data-theme="a" />
			
			                <input type="hidden" name="nav" id="nav" value=""/>
			                <button type="submit" data-theme="b">Sign in</button>
			
			                <div id="login_error"></div>
			            </div>
			
			            <p>Please sign in using your <strong>wso2.org</strong> account.</p> <hr><p>Need a password or password reminder?  Get one at <a href="https://wso2.org/user/register">wso2.org</a>.</p>
			     </div><!-- /content -->
	    </div><!-- /page -->
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        

        <div data-role="page" id="messages">
            
            <div data-role="header" data-position="fixed">
                <h1>Messages</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="messages-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content">	
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->
        

        <!-- Start of map page -->
        <div data-role="page" id="map">
            
            <div data-role="header" data-position="fixed">
                <h1>Venue Map</h1>
                 <a data-rel="back" data-icon="back" data-iconpos="notext" data-direction="reverse">Back</a>
                <a href="#settings" id="map-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content" id="mapcontent">
                <div id="mapscroll"><img src="floorplan.jpg" style="width:100%; height: 100%"/></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->

        
        <!-- Start of sponsors page -->
        <div data-role="page" id="sponsors">
            
            <div data-role="header" data-position="fixed">
                <h1>Sponsors</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="sponsors-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content" data-theme="d">
                <div id="sponsorlist"></div>
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
            </div><!-- /footer -->
        </div><!-- /page -->

        <div data-role="page" id="sponsor">
            
            <div data-role="header" data-position="fixed">
                <h1>SponsorName</h1>
                <a data-rel="back" data-icon="back" data-iconpos="notext" data-direction="reverse">Back</a>
                <a href="#settings" id="sponsor-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->
            
            <div data-role="content" data-theme="d">	
                <div id="sponsordetails"></div>
                <div style="display:none" id="poplogin-sponsor"><a href="#login" data-rel="popup" data-position-to="window" data-role="button" data-inline="true" data-transition="pop">Sign in to Request a Meeting</a></div> 
            
            </div><!-- /content -->
			 <div data-role="footer" data-position="fixed" data-transition="fade" data-theme="a">
            	 <div id="sponsormeeting"></div>
            	 
            </div><!-- /footer -->
        </div><!-- /page -->

        <!-- Start of chat -->
        <div data-role="page" id="chat">

            <div data-role="header" data-position="fixed">
                <h1 id="track-name"></h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="chat-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog"
                   data-transition="pop">Settings</a>
            </div>
            <!-- /header -->

            <div data-role="content" id="chatcontent">
                <div class="ui-bar ui-bar-b">

                    <table class="chat-row1" width="100%">
                        <tr>
                            <td>
                                <select name="select-choice-min" id="select-choice-min" data-mini="true">
                                    <option value="track1">WSO2Con Track-1</option>
                                    <option value="track2">WSO2Con Track-2</option>
                                </select>
                            </td>
                        </tr>
                    </table>

                </div>

                <div id="chat-track1" class="chat-log">
                    <ul data-role="listview"></ul>
                </div>
                <div id="chat-track2" class="chat-log">
                    <ul data-role="listview"></ul>
                </div>

            </div>
            <!-- /content -->

            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div id="chat-input" style="background:#fff;font-weight:normal;text-shadow:none;color:#333">
                    <div class="form">
                        <table width="100%" cellpadding="6">
                            <tr>
                                <td>
                                    <textarea id="chat-text" style="width:100%" data-mini="true"></textarea>
                                </td>
                                <td style="width:50px">
                                    <input class="send" type="button" value="Send" data-icon="forward" data-mini="true"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div>
            <!-- /footer -->
        </div>
        <!-- /page -->

        <!-- Start of twitter page -->
        <div data-role="page" id="twitter">

            <div data-role="header" data-position="fixed">
                <h1>Twitter</h1>
                <a href="#home" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
                <a href="#settings" id="twitter-settings" data-icon="gear" data-iconpos="notext" data-rel="dialog" data-transition="pop">Settings</a>
            </div><!-- /header -->

            <div data-role="content" id="">
            	<div id="twitterlist"><center>
            	 <a class="twitter-timeline" href="https://twitter.com/--ADD HERE--" data-widget-id="--ADD HERE--">Tweets by @WSO2Con</a>
				 </center></div>
            </div><!-- /content -->

            <div data-role="footer" data-position="fixed" data-transition="fade">
                <div class="sponsortag">WSO2Con 2013 sponsored by</div>
                <img class="ad"/>
            </div><!-- /footer -->
        </div><!-- /page -->

        <!-- Start of settings page -->
        <div data-role="page" id="settings">
            
            <div data-role="header" data-position="fixed">
                <h1>Your Profile</h1>
            </div><!-- /header -->
            
            <div data-role="content">
                <div id="profile_view">
                    <div class="edit"><a data-role="button" data-inline="true" data-mini="true">Edit</a></div>
                    <h3><span id="profile_firstname">First</span> <span id="profile_lastname">Name</span></h3>
                    <hr/>
                    <div><span id="profile_title">Title</span></div>
                    <div><span id="profile_organisation">org</span></div>
                    <p>Bio: <span id="profile_bio">bio</span></p>
                    <p>Expertise: <span id="profile_expertise">expertise</span></p>
                    <p>Home base: <span id="profile_home">home location</span></p>
                    <p><label><input type="checkbox" id="profile_accept" data-mini="true"/> Accepting meeting requests</label></p>
                    <p id="profile_interests_line">Interests: <span id="profile_interests">none</span></p>
                    <p class="note">Please consider allowing other attendees to request a meeting on topics of mutual interest.</p>
                    <div id="logoff"><a href="#home" data-role="button">Clear local data and log off</a></div>
                </div>
                <div id="profile_edit">
                    <div class="edit"><a data-role="button" data-inline="true" data-theme="b" data-mini="true">Done</a></div>
                    <h3><span id="edit_profile_firstname">First</span> <span id="edit_profile_lastname">Name</span></h3>
                    <hr/>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_title">Title:</label>
                        <input type="text" name="edit_profile_title" id="edit_profile_title" value="" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_organisation">Org:</label>
                        <input type="text" name="edit_profile_organisation" id="edit_profile_organisation" value="" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_bio">Bio:</label>
                        <textarea name="edit_profile_bio" id="edit_profile_bio" data-mini="true" ></textarea>
                    </div>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_expertise">Expertise:</label>
                        <input type="text" name="edit_profile_expertise" id="edit_profile_expertise" value="" data-mini="true" />
                    </div>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_home">Home base:</label>
                        <input type="text" name="edit_profile_home" id="edit_profile_home" value="" data-mini="true" />
                    </div>
                    <div>
                        <label><input type="checkbox" id="edit_profile_accept" data-mini="true"/> Accepting meeting requests</label>
                    </div>
                    <div data-role="fieldcontain">
                        <label for="edit_profile_interests">Interests:</label>
                        <input type="text" name="edit_profile_interests" id="edit_profile_interests" value="" data-mini="true" />
                    </div>
                    </div>
                </div>
                <div data-role="popup" class="popup" id="popup_server_failed">
                    <a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-left">Close</a>
                    <p>Server update failed!<br/>Please resubmit.</p>
                </div>
            </div><!-- /content -->
        </div><!-- /page -->


        
        <div data-role="page" id="upgrade">
            
            <div data-role="header" data-position="fixed">
                <h1>Upgrade Required</h1>
            <div data-role="content">	
            </div><!-- /header -->
            
                We're sorry, but this version of the WSO2Con application is no longer supported.  Please upgrade to the latest version.  If you are viewing from a web
                browser, please do clean your cache/local storage; More information available at <a href="http://wso2con.com" target="_blank">wso2con.com</a>.
            </div><!-- /content -->
            
            <div data-role="footer" data-position="fixed" data-transition="fade">
            </div><!-- /footer -->
        </div><!-- /page -->
    </body>
</html>
